---
title: 处理二维数组
date: 2018-04-09 18:06:57
tags: [js, 算法]
---

原二维数组: 
```js
let data = [
  {
    name: [0, 1, 2],
    a: 10,
    b: 11,
    c: 12
  },
  {
    name: [3, 4, 5],
    a: 13,
    b: 14,
    c: 15
  },
  {
    name: [6, 7, 8],
    a: 16,
    b: 17,
    c: 18
  }
]
```

<!-- more -->

需要的一维数组结构: 
```js
let _arr = [
  {
    name: 0,
    a: 10,
    b: 11,
    c: 12
  },
  {
    name: 1,
    a: 10,
    b: 11,
    c: 12
  },
  {
    name: 2,
    a: 10,
    b: 11,
    c: 12
  },
  {
    name: 3,
    a: 13,
    b: 14,
    c: 15
  },
  {
    name: 4,
    a: 13,
    b: 14,
    c: 15
  },
  {
    name: 5,
    a: 13,
    b: 14,
    c: 15
  },
  {
    name: 6,
    a: 16,
    b: 17,
    c: 18
  },
  {
    name: 7,
    a: 16,
    b: 17,
    c: 18
  },
  {
    name: 8,
    a: 16,
    b: 17,
    c: 18
  }
]
```

基本处理逻辑：
```js
const nomalTooArr = (tooArr) => {
  let _arr = []
  for (let i of tooArr) {
    for (let ii of i.name) {
      _arr.push({name: ii, a: i.a, b: i.b, c: i.c})
    }
  }
  return _arr
}
```

封装后：
```js
// tooArr: 原数组，name: 二维数组名，args: 转化后obj需要的key
const nomalTooArr = (tooArr, name, ...args) => {
  let _arr = []

  for (let i of tooArr) {
    for (let ii of i[name]) {
      let obj = {}
      for (let arg of args) {
        obj[arg] = i[arg]
      }
      obj[name] = ii
      _arr.push(obj)
      obj = null
    }
  }
  return _arr
}

console.log(nomalTooArr(data, 'name', 'a', 'b'))
```